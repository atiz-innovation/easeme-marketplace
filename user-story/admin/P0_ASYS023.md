# ASYS023 - р╕Фр╕╣ logs р╕гр╕░р╕Ър╕Ър╣Бр╕ер╕░р╕кр╕Цр╕┤р╕Хр╕┤ performance System Monitoring

## ЁЯСд р╕Ър╕Чр╕Ър╕▓р╕Ч
- р╕Ьр╕╣р╣Йр╕Фр╕╣р╣Бр╕ер╕гр╕░р╕Ър╕Ъ

## ЁЯОп р╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕вр╕Вр╕нр╕Зр╣Ар╕Др╕к
- Admin/DevOps
- р╣Ар╕Вр╣Йр╕▓р╕Цр╕╢р╕З logs metrics р╣Бр╕ер╕░ alert history р╕Вр╕нр╕Зр╕гр╕░р╕Ър╕Ъ
- р╣Ар╕Юр╕╖р╣Ир╕нр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕кр╕╕р╕Вр╕ар╕▓р╕Юр╕Вр╕нр╕Зр╕гр╕░р╕Ър╕Ъ

## тЪЩя╕П р╣Ар╕Зр╕╖р╣Ир╕нр╕Щр╣Др╕Вр╕Бр╣Ир╕нр╕Щр╣Ар╕гр╕┤р╣Ир╕б (Precondition)
- Monitoring stack р╕кр╣Ир╕З metrics

## ЁЯзн р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╣Бр╕ер╕░р╕кр╕Цр╕▓р╕Щр╕Бр╕▓р╕гр╕Ур╣М
- тЬЕ р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕Чр╕╡р╣Ир╕Др╕▓р╕Фр╕лр╕зр╕▒р╕З (Success Flow): р╕гр╕░р╕Ър╕Ър╣Бр╕кр╕Фр╕З uptime CPU errors slow queries р╣Бр╕ер╕░ alerts р╕ер╣Ир╕▓р╕кр╕╕р╕Ф
- тЭМ р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕Чр╕╡р╣И Failure:  
  - р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Вр╕лр╕ер╕Ф logs р╕лр╕гр╕╖р╕н metrics р╣Др╕Фр╣Йр╣Ар╕Щр╕╖р╣Ир╕нр╕Зр╕Ир╕▓р╕Бр╕Ыр╕▒р╕Нр╕лр╕▓р╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Бр╕▒р╕Ъ monitoring stack
  - р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕╕р╕Вр╕ар╕▓р╕Юр╕гр╕░р╕Ър╕Ър╣Др╕бр╣Ир╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З р╣Ар╕Кр╣Ир╕Щ uptime р╕лр╕гр╕╖р╕н CPU р╣Бр╕кр╕Фр╕Зр╕Др╣Ир╕▓р╕Ьр╕┤р╕Фр╕Юр╕ер╕▓р╕Ф
  - р╣Др╕бр╣Ир╕Юр╕Ър╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤ Alert р╕ер╣Ир╕▓р╕кр╕╕р╕Ф р╕лр╕гр╕╖р╕нр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Лр╣Йр╕│р╕Лр╣Йр╕нр╕Щр╕Чр╕│р╣Гр╕лр╣Йр╕зр╕┤р╣Ар╕Др╕гр╕▓р╕░р╕лр╣Мр╣Др╕бр╣Ир╣Др╕Фр╣Й
  - р╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╕ер╣Йр╕бр╣Ар╕лр╕ер╕з р╕лр╕гр╕╖р╕н SLA breach р╣Ар╕Юр╕гр╕▓р╕░ latency р╕Вр╕нр╕З alerts р╣Ар╕Бр╕┤р╕Щ 1 р╕Щр╕▓р╕Чр╕╡
  - р╕лр╕Щр╣Йр╕▓ monitoring р╕ер╣Ир╕бр╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Бр╕кр╕Фр╕Зр╕Бр╕гр╕▓р╕Я/р╕гр╕▓р╕вр╕Бр╕▓р╕гр╣Др╕Фр╣Й
- ЁЯФД р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕Чр╕▓р╕Зр╣Ар╕ер╕╖р╕нр╕Б:  
  - р╣Бр╕Фр╕Кр╕Ър╕нр╕гр╣Мр╕Фр╣Бр╕кр╕Фр╕Зр╕ар╕▓р╕Юр╕гр╕зр╕бр╕кр╕Цр╕▓р╕Щр╕░р╕гр╕░р╕Ър╕Ъ р╕Юр╕гр╣Йр╕нр╕бр╕ер╕┤р╕Зр╕Бр╣Мр╣Др╕Ыр╕вр╕▒р╕З traces
  - р╕кр╕▓р╕бр╕▓р╕гр╕Ц drill down р╣Ар╕Вр╣Йр╕▓ incidents р╕Ьр╣Ир╕▓р╕Щр╕гр╕▓р╕вр╕Бр╕▓р╕г Alerts р╣Др╕Фр╣Й
  - р╣Бр╕кр╕Фр╕З retention policy р╕Вр╕нр╕З logs р╣Бр╕ер╕░р╕гр╕░р╕вр╕░р╣Ар╕зр╕ер╕▓р╕Бр╕▓р╕гр╣Ар╕Бр╣Зр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕е
  - р╕кр╕▓р╕бр╕▓р╕гр╕Цр╕кр╣Ир╕Зр╕нр╕нр╕Б logs/metrics р╣Ар╕Ыр╣Зр╕Щ CSV р╕лр╕гр╕╖р╕н JSON
  - р╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Бр╕гр╕нр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▓р╕б service, namespace р╕лр╕гр╕╖р╕нр╣Ар╕зр╕┤р╕гр╣Мр╕Бр╣Вр╕лр╕ер╕Ф
- тЪая╕П р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕Вр╕нр╕Ър╣Ар╕Вр╕Хр╕Юр╕┤р╣Ар╕ир╕й:  
  - р╣Бр╕Фр╕Кр╕Ър╕нр╕гр╣Мр╕Фр╣Бр╕кр╕Фр╕Зр╕ар╕▓р╕Юр╕гр╕зр╕бр╕кр╕Цр╕▓р╕Щр╕░р╕гр╕░р╕Ър╕Ъ р╕Юр╕гр╣Йр╕нр╕бр╕ер╕┤р╕Зр╕Бр╣Мр╣Др╕Ыр╕вр╕▒р╕З traces
  - р╕кр╕▓р╕бр╕▓р╕гр╕Ц drill down р╣Ар╕Вр╣Йр╕▓ incidents р╕Ьр╣Ир╕▓р╕Щр╕гр╕▓р╕вр╕Бр╕▓р╕г Alerts р╣Др╕Фр╣Й
  - р╣Бр╕кр╕Фр╕З retention policy р╕Вр╕нр╕З logs р╣Бр╕ер╕░р╕гр╕░р╕вр╕░р╣Ар╕зр╕ер╕▓р╕Бр╕▓р╕гр╣Ар╕Бр╣Зр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕е
  - р╕кр╕▓р╕бр╕▓р╕гр╕Цр╕кр╣Ир╕Зр╕нр╕нр╕Б logs/metrics р╣Ар╕Ыр╣Зр╕Щ CSV р╕лр╕гр╕╖р╕н JSON
  - р╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Бр╕гр╕нр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▓р╕б service, namespace р╕лр╕гр╕╖р╕нр╣Ар╕зр╕┤р╕гр╣Мр╕Бр╣Вр╕лр╕ер╕Ф

## тЬЕ р╣Ар╕Бр╕Ур╕Ср╣Мр╕Бр╕▓р╕гр╕вр╕нр╕бр╕гр╕▒р╕Ъ (Acceptance Criteria)
- р╕ер╕┤р╕Зр╕Бр╣Мр╣Др╕Ыр╕вр╕▒р╕З traces
- р╕Др╕зр╕▓р╕бр╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Гр╕Щр╕Бр╕▓р╕г drill into incidents
- retention policy р╕кр╕│р╕лр╕гр╕▒р╕Ъ logs

## тП▒ р╕ер╕│р╕Фр╕▒р╕Ър╕Др╕зр╕▓р╕бр╕кр╕│р╕Др╕▒р╕Н / SLA
- Priority: P0
- SLA: alerts <1m

---

## ЁЯФБ Sequence Diagram  
> р╣Бр╕кр╕Фр╕Зр╕ер╕│р╕Фр╕▒р╕Ър╣Ар╕лр╕Хр╕╕р╕Бр╕▓р╕гр╕Ур╣Мр╕гр╕░р╕лр╕зр╣Ир╕▓р╕З "р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й" р╕Бр╕▒р╕Ъ "р╕гр╕░р╕Ър╕Ъ"

```mermaid
sequenceDiagram
  autonumber
  participant U as ЁЯзС р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й
  participant S as ЁЯТ╗ р╕гр╕░р╕Ър╕Ъ
  U->>S: Admin р╣Ар╕Ыр╕┤р╕Фр╕лр╕Щр╣Йр╕▓ monitoring
  S-->>U: р╕гр╕░р╕Ър╕Ър╣Бр╕кр╕Фр╕З uptime CPU errors slow queries р╣Бр╕ер╕░ alerts р╕ер╣Ир╕▓р╕кр╕╕р╕Ф
```

---

## ЁЯзн Flowchart Diagram
> р╣Бр╕кр╕Фр╕Зр╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щр╕Вр╕нр╕Зр╕гр╕░р╕Ър╕Ър╕нр╕вр╣Ир╕▓р╕Зр╣Ар╕Вр╣Йр╕▓р╣Гр╕Ир╕Зр╣Ир╕▓р╕в

```mermaid
flowchart TD
  A[р╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щ] --> B[р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Monitoring stack р╕кр╣Ир╕З metrics]
  B --> C[р╕Фр╕│р╣Ар╕Щр╕┤р╕Щр╕Бр╕▓р╕г Admin р╣Ар╕Ыр╕┤р╕Фр╕лр╕Щр╣Йр╕▓ monitoring]
  C --> D[р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕кр╕│р╣Ар╕гр╣Зр╕И р╕гр╕░р╕Ър╕Ър╣Бр╕кр╕Фр╕З uptime CPU errors slow queries р╣Бр╕ер╕░ alerts р╕ер╣Ир╕▓р╕кр╕╕р╕Ф]
  C --> E[р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕ер╣Йр╕бр╣Ар╕лр╕ер╕з р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Вр╕лр╕ер╕Ф logs р╕лр╕гр╕╖р╕н metrics р╕лр╕гр╕╖р╕нр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕╕р╕Вр╕ар╕▓р╕Юр╣Др╕бр╣Ир╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З]
  C --> F[р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕Чр╕▓р╕Зр╣Ар╕ер╕╖р╕нр╕Б р╣Бр╕Фр╕Кр╕Ър╕нр╕гр╣Мр╕Фр╕ар╕▓р╕Юр╕гр╕зр╕б р╕Юр╕гр╣Йр╕нр╕бр╕ер╕┤р╕Зр╕Бр╣Мр╣Др╕Ы traces drill down incidents retention export р╣Бр╕ер╕░р╕Бр╕гр╕нр╕Зр╣Др╕Фр╣Й]
  C --> G[р╕Вр╕нр╕Ър╣Ар╕Вр╕Хр╕Юр╕┤р╣Ар╕ир╕й р╣Бр╕Фр╕Кр╕Ър╕нр╕гр╣Мр╕Фр╕ар╕▓р╕Юр╕гр╕зр╕б р╕Юр╕гр╣Йр╕нр╕бр╕ер╕┤р╕Зр╕Бр╣Мр╣Др╕Ы traces drill down incidents retention export р╣Бр╕ер╕░р╕Бр╕гр╕нр╕Зр╣Др╕Фр╣Й]
  D --> H[р╕кр╕┤р╣Йр╕Щр╕кр╕╕р╕Ф]
  E --> H
  F --> H
  G --> H
```

